const webpack = require('webpack')
const WebpackDevServer = require('webpack-dev-server')
const webpackConfiguration = require('../webpack.config.js')
const webpackConfig = webpack(webpackConfiguration.config)

new WebpackDevServer(webpackConfig, {
	publicPath: '/app',
	hot: true,
	historyApiFallback: true,
	contentBase: './src/app',
	noInfo: false,
	stats: {
		colors: true,
		progress: true
	},
	proxy: {
		'*': 'http://localhost:3000'
	}
})
.listen(webpackConfiguration.port, 'localhost', (err) => {
	if (err)
		return console.log(err)

	console.log(`Listning at http://localhost:${webpackConfiguration.port}/`);
})
